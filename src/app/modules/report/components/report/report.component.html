<app-report-landing></app-report-landing>
<app-searchbox
  placeholder="Search by Report Name"
  (searchText)="searchReport()"
>
</app-searchbox>
<div *ngIf="reports && reports.length > 0; else nodata">
  <p class="fs-7 m-0">
    Total Reports ( <span class="fw-bold">{{ count }}</span
    >)
  </p>

  <div class="col d-flex justify-content-end align-items-start">
    <p class="fs-14 m-6">
      Report Download
      <span class="fw-bold"
        ><i class="fas fa-download fa-1x" (click)="downloadreport()"></i
      ></span>
    </p>
  </div>

  <app-horizontal-scroll
    [tableContent]="tableReference"
    *ngIf="reports"
  ></app-horizontal-scroll>
  <div class="container">
    <div #tableContent class="table-responsive">
      <table class="table-1 table table-bordered table-light text-center mt-4">
        <thead>
          <tr class="table-primary">
            <th>Action</th>
            <th>Product Name</th>
            <th>Request Type</th>
            <th>Priority</th>
            <th>Location</th>
            <th>Warranty</th>
            <th>Description</th>
            <th>Post Code</th>
            <th>Delete</th>
          </tr>
        </thead>
        <div class="seperated"></div>

        <tbody>
          <!-- *ngFor="let i=index" -->
          <!-- <td>{{i+1}}</td> -->
          <tr *ngFor="let repo of reports">
            <td>
              <i class="fa-sharp fa-solid fa-pen-to-square"></i>
              <i
                class="far fa-file-word mx-1"
                (click)="viewreport(repo.id)"
              ></i>
            </td>

            <td>{{ repo.productname }}</td>
            <td>{{ repo.requesttype }}</td>
            <td>{{ repo.priority }}</td>
            <td>{{ repo.location }}</td>
            <td>{{ repo.warranty }}</td>
            <td>{{ repo.description }}</td>
            <td>{{ repo.postcode }}</td>

            <td>
              <i
                class="fa-sharp fa-solid fa-trash-can"
                (click)="deleteReport(repo.id)"
              ></i>
            </td>

            <!-- <td><i class="fa-sharp fa-solid fa-trash-can"></i></td> -->
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<ng-template #nodata>
  <app-no-data-found></app-no-data-found>
</ng-template>
